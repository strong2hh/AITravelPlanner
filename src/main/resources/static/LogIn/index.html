<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI旅行规划器</title>
    <link rel="stylesheet" href="styles.css">
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <script src="../config.js"></script>
</head>
<body>
    <div id="app">
        <!-- 导航栏 -->
        <nav class="navbar">
            <div class="nav-container">
                <h1 class="logo">AI旅行规划器</h1>
                <div id="auth-buttons" class="auth-buttons">
                    <button id="login-btn" class="btn btn-outline">登录</button>
                    <button id="register-btn" class="btn btn-primary">注册</button>
                </div>
                <div id="user-menu" class="user-menu" style="display: none;">
                    <span id="user-email" class="user-email"></span>
                    <button id="logout-btn" class="btn btn-outline">退出</button>
                </div>
            </div>
        </nav>

        <!-- 主要内容区域 -->
        <main class="main-content">
            <!-- 登录模态框 -->
            <div id="login-modal" class="modal" style="display: none;">
                <div class="modal-content">
                    <span class="close">&times;</span>
                    <h2>登录</h2>
                    <form id="login-form">
                        <div class="form-group">
                            <label for="login-email">邮箱</label>
                            <input type="email" id="login-email" required>
                        </div>
                        <div class="form-group">
                            <label for="login-password">密码</label>
                            <input type="password" id="login-password" required>
                        </div>
                        <button type="submit" class="btn btn-primary">登录</button>
                        <div class="forgot-password-link">
                            <a href="#" id="forgot-password-link">忘记密码？</a>
                        </div>
                    </form>
                    <div id="login-error" class="error-message"></div>
                </div>
            </div>

            <!-- 注册模态框 -->
            <div id="register-modal" class="modal" style="display: none;">
                <div class="modal-content">
                    <span class="close">&times;</span>
                    <h2>注册</h2>
                    <form id="register-form">
                        <div class="form-group">
                            <label for="register-email">邮箱</label>
                            <input type="email" id="register-email" required>
                        </div>
                        <div class="form-group">
                            <label for="register-password">密码</label>
                            <input type="password" id="register-password" required>
                        </div>
                        <div class="form-group">
                            <label for="confirm-password">确认密码</label>
                            <input type="password" id="confirm-password" required>
                        </div>
                        <button type="submit" class="btn btn-primary">注册</button>
                    </form>
                    <div id="register-error" class="error-message"></div>
                </div>
            </div>

            <!-- 忘记密码模态框 -->
            <div id="forgot-password-modal" class="modal" style="display: none;">
                <div class="modal-content">
                    <span class="close">&times;</span>
                    <h2>重置密码</h2>
                    <form id="forgot-password-form">
                        <div class="form-group">
                            <label for="reset-email">请输入您的邮箱</label>
                            <input type="email" id="reset-email" required>
                        </div>
                        <button type="submit" class="btn btn-primary">发送重置链接</button>
                    </form>
                    <div id="forgot-password-error" class="error-message"></div>
                    <div id="forgot-password-success" class="success-message" style="display: none;"></div>
                </div>
            </div>

            <!-- 重置密码模态框 -->
            <div id="reset-password-modal" class="modal" style="display: none;">
                <div class="modal-content">
                    <span class="close">&times;</span>
                    <h2>设置新密码</h2>
                    <form id="reset-password-form">
                        <div class="form-group">
                            <label for="new-password">新密码</label>
                            <input type="password" id="new-password" required>
                        </div>
                        <div class="form-group">
                            <label for="confirm-new-password">确认新密码</label>
                            <input type="password" id="confirm-new-password" required>
                        </div>
                        <button type="submit" class="btn btn-primary">重置密码</button>
                    </form>
                    <div id="reset-password-error" class="error-message"></div>
                </div>
            </div>

            <!-- 欢迎内容 -->
            <div id="welcome-content" class="welcome-section">
                <div class="hero">
                    <h1>智能旅行规划助手</h1>
                    <p>让AI为您规划完美的旅行路线</p>
                    <div class="features">
                        <div class="feature">
                            <h3>智能推荐</h3>
                            <p>基于您的偏好生成个性化行程</p>
                        </div>
                        <div class="feature">
                            <h3>实时更新</h3>
                            <p>获取最新的旅行信息和价格</p>
                        </div>
                        <div class="feature">
                            <h3>多目的地</h3>
                            <p>支持复杂多城市旅行规划</p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- 用户仪表板 -->
            <div id="dashboard" class="dashboard" style="display: none;">
                <h2>欢迎回来！</h2>
                <div class="dashboard-content">
                    <div class="dashboard-card">
                        <h3>我的旅行计划</h3>
                        <p>查看和管理您的旅行计划</p>
                    </div>
                    <div class="dashboard-card">
                        <h3>创建新计划</h3>
                        <p>开始规划您的下一次旅行</p>
                    </div>
                    <div class="dashboard-card">
                        <h3>旅行历史</h3>
                        <p>回顾您过去的旅行经历</p>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <script src="auth.js"></script>
</body>
</html>